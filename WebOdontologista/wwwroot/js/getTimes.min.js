async function getTimes() { var e = document.getElementById("error"); e.innerHTML = ""; var t = document.getElementById("Appointment_Time"); if (t.length > 0) for (var n = t.length - 1; n > -1; n--)t.remove(n); if (t.disabled = !0, document.getElementById("Appointment_Confirm").disabled = !0, "" != document.getElementById("Appointment_Date").value) { var i = document.getElementById("Appointment_Date").value.split("-"); for (n = 0; n < i.length; n++)i[n] = parseInt(i[n]); var a = new Date(i[0], i[1] - 1, i[2]), o = new Date; if (a < new Date(o.getFullYear(), o.getMonth(), o.getDate())) e.innerHTML = "Data inválida!"; else { var d, l = window.location.origin + "/Appointments/GetTimes", m = { dentistId: document.getElementById("Appointment_DentistId").value, date: document.getElementById("Appointment_Date").value, durationInMinutes: document.getElementById("Appointment_DurationInMinutes").value }; if (await $.get(l, m, e => d = JSON.parse(e)), null != d) if (0 != d.length) { for (n = 0; n < d.length; n++) { var r = await document.createElement("option"); r.value = d[n], r.text = d[n], t.appendChild(r) } t.disabled = !1, document.getElementById("Appointment_Confirm").disabled = !1 } else e.innerHTML = "Não há horários disponíveis neste dia!"; else e.innerHTML = "Houve um problema de solicitação!" } } }