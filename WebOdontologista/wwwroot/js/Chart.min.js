class Chart{constructor(){if(this.title,this.seriesName,this.data,this.constructor===Chart)throw new Error("Abstract class")}set(t,e,a){throw new Error("Abstract method")}getOptions(){throw new Error("Abstract method")}}class BarChart extends Chart{constructor(){super(),this.label}set(t,e,a){for(var s in this.title=t,this.seriesName=a,this.label=[],this.data=[],e)this.label.push(s),this.data.push(e[s])}getOptions(){return{title:{text:this.title,subtext:this.seriesName},tooltip:{},legend:{show:!1},xAxis:{type:"value",show:!0},yAxis:{type:"category",show:!0,data:this.label},series:[{name:this.seriesName,colorBy:"data",type:"bar",data:this.data}]}}}class PieChart extends Chart{constructor(){super()}set(t,e,a){this.title=t,this.seriesName=a;var s=[];for(var i in e)s.push({value:e[i],name:i});this.data=s}getOptions(){return{title:{text:this.title,subtext:this.seriesName},tooltip:{},legend:{show:!1},xAxis:{show:!1},yAxis:{show:!1},series:[{name:this.seriesName,type:"pie",radius:"60%",data:this.data}]}}}class ChartDirector{constructor(t,e,a){this.element=t,this.title=e,this.activeChartOption="pieChart_"+t.id,this.activeDataOption="durationInMinutes_"+t.id,this.chart=new PieChart,this.seriesName="Dura\u00e7\u00e3o em minutos",this.data=a,this.currentDrawChart=echarts.init(this.element)}updateChart(t,e){document.getElementById(this.activeChartOption).className="",this.activeChartOption=e,document.getElementById(this.activeChartOption).className="active",this.chart=t,this.draw()}updateData(t,e,a){document.getElementById(this.activeDataOption).className="",this.activeDataOption=a,document.getElementById(this.activeDataOption).className="active",this.data=t,this.seriesName=e,this.draw()}draw(){this.chart.set(this.title,this.data,this.seriesName),this.currentDrawChart.setOption(this.chart.getOptions())}}function parseRawData(t,e){for(var a={},s=0;s<t.length;s++)t[s][e]in a?a[t[s][e]]++:a[t[s][e]]=1;return a}function parseTableRawData(t,e,a){for(var s={},i=0;i<t.length;i++)t[i][e][a]in s?s[t[i][e][a]]++:s[t[i][e][a]]=1;return s}function toList(){document.getElementById("list").className="active",document.getElementById("chart").className="",document.getElementById("listView").style.display="block",document.getElementById("chartView").style.display="none"}function toChart(){document.getElementById("list").className="",document.getElementById("chart").className="active",document.getElementById("listView").style.display="none",document.getElementById("chartView").style.display="block"}var charts={},parsedModel={};function createSimpleChart(t,e){var a=document.getElementById(t);parsedModel[t]={},parsedModel[t].durationInMinutes=parseRawData(model,"durationInMinutes"),parsedModel[t].appointmentType=parseRawData(model,"appointmentType"),parsedModel[t].dentist=parseTableRawData(model,"dentist","name"),parsedModel[t].patient=parseRawData(model,"patient"),charts[t]=new ChartDirector(a,e,parsedModel[t].durationInMinutes),charts[t].draw()}function createGroupingChart(t,e,a){var s=document.getElementById(t);parsedModel[t]={},parsedModel[t].durationInMinutes=parseRawData(model[a],"durationInMinutes"),parsedModel[t].appointmentType=parseRawData(model[a],"appointmentType"),parsedModel[t].patient=parseRawData(model[a],"patient"),charts[t]=new ChartDirector(s,e,parsedModel[t].durationInMinutes),charts[t].draw()}